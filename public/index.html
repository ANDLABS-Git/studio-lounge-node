<!DOCTYPE html>

<html>
  <!--
      Basic header.
    -->
  <head>
    <title>Andlab Lounge (Debug)</title>
    <style>
      p { margin:0; color:blue; }
      h1 {margin:10; color:red; }
    </style>
    <h1><img style="width: 72px; height: 72px;" src="img/andlabs.png"> Andlab Lounge - Web client (debug)<br/></h1>
  </head>

  <body>

    <!--
	Define external javascript inclusions here.
      -->
    <script src="/socket.io/socket.io.js"></script>

    <script>
    var socket;
    function submit_login() {
	var user = document.forms.login.user.value;
	var pass = document.forms.login.pass.value;
	(socket = io.connect()).on("connect", function() {
            socket.emit("provide_login", user, pass);

            socket.on("response_login", function(code) {
		document.forms.login.pass.value = "";
		if (code == 0) {
	  	    return alert("Logged in!");
		}
		socket.disconnect();
		return alert("Invalid response code: "+code);
            });
	});
    }
    </script>
    <!--
	Page content.
      -->
    <p><br/>Please log in to access page content.<br/></p>
    <form id="login" name="login_form">
      <input type="text" value="Username" name="user" onfocus="if (this.value == 'Username') { this.value = '' }" onblur="if (this.value == '') { this.value = 'Username' }">
      <input type="password" value="*****" name="pass" onfocus="if (this.value == '*****') { this.value = '' }" onblur="if (this.value == '') { this.value = '*****' }">
      <input type="button" value="Submit request" name="login_sub" onclick="submit_login();">
    </form>
  </body>
</html>
